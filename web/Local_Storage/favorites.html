<!DOCTYPE html>
<html>
<head>
	<title>Casey Spain's Assign09</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel="stylesheet" type="text/css" href="local_storage.css"/>
    <script>
    function load() {
        for (var i = 0; i < localStorage.length; i++){
            loadData(i);
        }
    }
    function loadData(index) {
        var obj = JSON.parse(localStorage.getItem(index));
        var keys = ["name", "height", "mass", "hair_color", "skin_color", "eye_color", "birth_year", "gender"];
        var div = document.getElementById("result");
        var tbl = document.createElement("table");
        var tblBody = document.createElement("tbody");
        var row = document.createElement("tr");

        for(var i = 0; i < 8; i++) {
            var header = document.createElement("td");
            var headerText = document.createTextNode(obj[keys[i]]);
            header.appendChild(headerText);
            row.appendChild(header);
        }    
        tblBody.appendChild(row);
        tbl.appendChild(tblBody);
        div.appendChild(tbl);
        tbl.setAttribute("border", "2");
        tbl.classList.add("moveUp");
    }
    
    function deleteStorage() {
        localStorage.clear();
        var div = document.getElementById("result");
        while (div.firstChild) {
            div.removeChild(div.firstChild);
        }
    }
    </script>
</head>
<body>
<div class="topnav">
    <a href="local_storage.html">Home</a>
    <a class="active" href="#home">Favorites</a>
</div>
<div class="header">
    <br><br><br>
    <h1>Your Favorites</h1>
</div>
<div class="center" id="demo">
        <br>
        <h3>Pick a Category</h3>
        <button type="button" onclick="load()">Load Favorites</button>
        <button type="button" onclick="deleteStorage()">Delete Favorites</button>
        <!-- <textarea id="display" rows="10" cols="80"></textarea>
    <br> -->
    <div class="display2">
            <table id="table1">
                <tr>
                    <th>Name</th>
                    <th>Height</th>
                    <th>Mass</th>
                    <th>Hair Color</th>
                    <th>Skin Color</th>
                    <th>Eye Color</th>
                    <th>Birth Year</th>
                    <th>Gender</th>
                </tr>
            </table>
        </div>
    <div id="result" class="display">
    </div>
    

</div>
	
</body>
</html>